<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scrapbook</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: Arial, sans-serif;
            background-color: powderblue;
        }

        .book {
            position: relative;
            width: 350px;
            height: 500px;
            transition: transform 0.5s;
        }

        .nav-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(5,53,61,0.8);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            z-index: 1000;
            text-decoration: none;
        }

        .paper {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            perspective: 1500px;
        }

        .front, .back {
            background-color: white;
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            transform-origin: left;
            transition: transform 0.5s;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .front { z-index: 1; backface-visibility: hidden; border-left: 3px solid #5cb8d4; }
        .back { z-index: 0; }

        .front-content, .back-content {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .back-content { transform: rotateY(180deg); }

        .flipped .front,
        .flipped .back { transform: rotateY(-180deg); }

        button {
            border: none;
            background-color: transparent;
            cursor: pointer;
            margin: 20px;
        }

        .icon { width: 50px; height: 50px; fill: #636363; }

        #p1 { z-index: 3; }
        #p2 { z-index: 2; }
        #p3 { z-index: 1; }

        img { width: 100%; height: 100%; object-fit: cover; }
    </style>
</head>
<body>

<a href="letter.html" class="nav-btn">Letter for you</a>

<button id="prev-btn">
    <svg class="icon" viewBox="0 0 24 24">
        <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
    </svg>
</button>

<div id="book" class="book">

    <!-- Paper 1 -->
    <div id="p1" class="paper">
        <div class="front">
            <div class="front-content"><img src="images/page1.png" alt="Page 1"></div>
        </div>
        <div class="back">
            <div class="back-content"><img src="images/page2.png" alt="Page 2"></div>
        </div>
    </div>

    <!-- Paper 2 -->
    <div id="p2" class="paper">
        <div class="front">
            <div class="front-content"><img src="images/page3.png" alt="Page 3"></div>
        </div>
        <div class="back">
            <div class="back-content"><img src="images/page4.png" alt="Page 4"></div>
        </div>
    </div>

    <!-- Paper 3 -->
    <div id="p3" class="paper">
        <div class="front">
            <div class="front-content"><img src="images/page5.png" alt="Page 5"></div>
        </div>
        <div class="back">
            <div class="back-content"><img src="images/page6.png" alt="Page 6"></div>
        </div>
    </div>

</div>

<button id="next-btn">
    <svg class="icon" viewBox="0 0 24 24">
        <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
    </svg>
</button>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const prevBtn = document.getElementById("prev-btn");
    const nextBtn = document.getElementById("next-btn");
    const book = document.getElementById("book");
    const paper1 = document.getElementById("p1");
    const paper2 = document.getElementById("p2");
    const paper3 = document.getElementById("p3");

    let currentLocation = 1;
    const numOfPapers = 3;
    const maxLocation = numOfPapers + 1;

    prevBtn.addEventListener("click", goPrevPage);
    nextBtn.addEventListener("click", goNextPage);

    function openBook() {
        book.style.transform = "translateX(50%)";
        prevBtn.style.transform = "translateX(-180px)";
        nextBtn.style.transform = "translateX(180px)";
    }

    function closeBook(isAtBeginning) {
        if(isAtBeginning) { book.style.transform = "translateX(0%)"; }
        else { book.style.transform = "translateX(100%)"; }
        prevBtn.style.transform = "translateX(0px)";
        nextBtn.style.transform = "translateX(0px)";
    }

    function goNextPage() {
        if(currentLocation < maxLocation) {
            switch(currentLocation) {
                case 1:
                    openBook();
                    paper1.classList.add("flipped");
                    paper1.style.zIndex = 1;
                    break;
                case 2:
                    paper2.classList.add("flipped");
                    paper2.style.zIndex = 2;
                    break;
                case 3:
                    paper3.classList.add("flipped");
                    paper3.style.zIndex = 3;
                    closeBook(false);
                    break;
            }
            currentLocation++;
        }
    }

    function goPrevPage() {
        if(currentLocation > 1) {
            switch(currentLocation) {
                case 2:
                    closeBook(true);
                    paper1.classList.remove("flipped");
                    paper1.style.zIndex = 3;
                    break;
                case 3:
                    paper2.classList.remove("flipped");
                    paper2.style.zIndex = 2;
                    break;
                case 4:
                    openBook();
                    paper3.classList.remove("flipped");
                    paper3.style.zIndex = 1;
                    break;
            }
            currentLocation--;
        }
    }
});
</script>

</body>
</html>
